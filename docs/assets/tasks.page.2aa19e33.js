import{u as B,i as $,c as b,A as s,B as n,C as o,D as a,_ as w,$ as h,a0 as g,a1 as u,J as r,K as i,Q as l,L as x,a2 as p,H as v}from"./index.581635c0.js";import{Q as N,a as I,b as _,c as f}from"./QList.50109cf9.js";import{Q as L}from"./QBadge.70fe9ef2.js";import{Q as S}from"./QPage.f3206050.js";import{d as k,r as V}from"./relativeTime.5ddd48d2.js";const j={class:"q-mr-md",style:{"white-space":"nowrap"}},D={class:"q-mr-md",style:{"white-space":"nowrap"}},P={class:"q-mr-md",style:{"white-space":"nowrap"}},H=Object.assign({name:"TasksPage"},{__name:"tasks.page",setup(A){k.extend(V);const c=B(),y=$("notify"),Q=t=>new Promise(d=>setTimeout(d,t)),T=b(()=>c.tasks||[]),q=async t=>{const d=t.status;t.status="almost-completed",await Q(500),await c.updateTask(t.id,{status:"completed"}),y(`${t.title} completed!`,{actions:[{label:"Undo",color:"white",handler:()=>{c.updateTask(t.id,{status:d})}}]})},C=async t=>{await c.updateTask(t.id,{status:"not_started"}),y(`${t.title} re-opened!`,{actions:[{label:"Undo",color:"white",handler:()=>{c.updateTask(t.id,{status:"completed"})}}]})};return(t,d)=>(s(),n(S,null,{default:o(()=>[a(N,{class:"q-py-md"},{default:o(()=>[(s(!0),w(g,null,h(T.value,e=>(s(),n(I,{key:e.id,class:"q-my-md"},{default:o(()=>[a(_,{side:""},{default:o(()=>[["not_started","in_progress","waiting"].includes(e.status)?(s(),n(u,{key:0,flat:"",round:"",dense:"",icon:"radio_button_unchecked",onClick:m=>q(e)},null,8,["onClick"])):(s(),n(u,{key:1,flat:"",round:"",dense:"",icon:"check",onClick:m=>C(e)},null,8,["onClick"]))]),_:2},1024),a(_,null,{default:o(()=>[a(f,null,{default:o(()=>[(s(!0),w(g,null,h(e.tags,m=>(s(),n(L,{key:m,class:"q-mr-xs"},{default:o(()=>[r(i(m),1)]),_:2},1024))),128))]),_:2},1024),a(f,null,{default:o(()=>[r(i(e.title)+" ",1),e.status=="not_started"?(s(),n(l,{key:0,name:"start",color:"primary",class:"q-ml-sm"})):e.status=="in_progress"?(s(),n(l,{key:1,name:"pending",color:"info",class:"q-ml-sm"})):e.status=="waiting"?(s(),n(l,{key:2,name:"hourglass_top",color:"warning",class:"q-ml-sm"})):e.status=="completed"?(s(),n(l,{key:3,name:"check",color:"positive",class:"q-ml-sm"})):x("",!0)]),_:2},1024),a(f,{caption:""},{default:o(()=>[p("span",j,[a(l,{name:"person"}),r(" "+i(e.owner.description),1)]),p("span",D,[a(l,{name:"alarm_on"}),r(" "+i(v(k)(e.dueDate).fromNow()),1)]),p("span",P,[a(l,{name:"group"}),r(" "+i(e.accessAccounts.length)+" people",1)])]),_:2},1024)]),_:2},1024),a(_,{side:""},{default:o(()=>[a(u,{flat:"",round:"",dense:"",icon:"more_horiz"})]),_:1})]),_:2},1024))),128))]),_:1})]),_:1}))}});export{H as default};
